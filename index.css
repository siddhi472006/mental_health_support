/* index.css - global styles (updated) */

/* Basic box model */
*, *::before, *::after {
  box-sizing: border-box;
}

/* Lightweight transitions for interactive elements */
button, a, input, textarea {
  transition: background-color 180ms ease, color 180ms ease, transform 180ms ease, box-shadow 180ms ease;
}

/* Ensure root fills viewport */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Font smoothing and base font */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: #f0fdf4;
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  /* Adjusted color to match the Teal theme */
  background: #2dd4bf;
  border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover {
  background: #14b8a6;
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: #2dd4bf #f0fdf4;
}

/* --- ANIMATION DEFINITIONS --- */

/* Message Bubble "Blooming" Entrance */
@keyframes bloomIn {
    0% {
        opacity: 0;
        /* Start slightly smaller (bloom) and slide up (grow) */
        transform: translateY(10px) scale(0.98); 
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}
.message-enter {
    animation: bloomIn 0.4s ease-out;
}

/* Slow, Calming Background Waft */
@keyframes slowWaft {
    0% { background-position: 0% 0%; }
    50% { background-position: 10% 10%; }
    100% { background-position: 0% 0%; }
}

/* DSA Status Pulse (for visual feedback on priority change) */
@keyframes pulseGlow {
    0% { box-shadow: 0 0 0 0px rgba(6, 182, 212, 0.7); } 
    50% { box-shadow: 0 0 0 8px rgba(6, 182, 212, 0); }
    100% { box-shadow: 0 0 0 0px rgba(6, 182, 212, 0); }
}

/* Critical Alert Pulse (Red for high-priority flag) */
@keyframes criticalPulse {
    0% { box-shadow: 0 0 0 0px rgba(239, 68, 68, 0.7); }
    50% { box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); }
    100% { box-shadow: 0 0 0 0px rgba(239, 68, 68, 0); }
}

.animate-pulse-glow {
    animation: pulseGlow 2s infinite ease-out;
}

.animate-critical-pulse {
    animation: criticalPulse 1.5s infinite ease-out;
}

.side-panel {
  position: fixed;
  top: 0;
  bottom: 0;
  width: var(--side-width, 160px);
  pointer-events: none;
  z-index: 20;
  overflow: hidden;
  display: block;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* panel texture */
.side-panel .panel-bg {
  position: absolute;
  inset: 0;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  opacity: 0.06;
  filter: blur(6px) saturate(110%);
}

/* Fog layers */
.fog {
  position: absolute;
  inset: -20% -20%;
  background-repeat: no-repeat;
  background-size: 160% 160%;
  filter: blur(28px) saturate(110%);
  opacity: 0.18;
  mix-blend-mode: screen;
  transform: translateZ(0);
  animation: driftFog 36s linear infinite;
}

.fog.a { opacity: 0.16; animation-duration: 40s; }
.fog.b { opacity: 0.12; animation-duration: 52s; }

@keyframes driftFog {
  0% { transform: translate3d(-6%, 0, 0) scale(1); }
  50% { transform: translate3d(6%, 6vh, 0) scale(1.02); }
  100% { transform: translate3d(-6%, 0, 0) scale(1); }
}

/* Leaves */
.leaves {
  position: absolute;
  inset: 0;
  z-index: 22;
  pointer-events: none;
}

.leaf {
  position: absolute;
  width: 30px;
  height: 30px;
  will-change: transform, opacity;
  transform-origin: 50% 50%;
  filter: drop-shadow(0 2px 3px rgba(6,50,20,0.06));
  opacity: 0.95;
}

@keyframes sideFloat {
  0% { transform: translate3d(0, 0, 0) rotate(0deg) scale(1); opacity: 0.8; }
  50% { transform: translate3d(0, 6vh, 0) rotate(6deg) scale(1.02); opacity: 0.95; }
  100% { transform: translate3d(0, 0, 0) rotate(0deg) scale(1); opacity: 0.8; }
}

@keyframes sideDrift {
  0% { transform: translate3d(0, -6vh, 0) rotate(-10deg) scale(0.9); opacity: 0; }
  15% { opacity: 0.7; }
  50% { transform: translate3d(8vw, 40vh, 0) rotate(12deg) scale(1); opacity: 0.95; }
  100% { transform: translate3d(0, 80vh, 0) rotate(35deg) scale(0.9); opacity: 0; }
}

@keyframes sway {
  0% { transform: translateY(0) rotate(0); }
  50% { transform: translateY(6px) rotate(4deg); }
  100% { transform: translateY(0) rotate(0); }
}

@media (prefers-reduced-motion: reduce) {
  .fog, .leaf, .message-enter, .animate-pulse-glow, .animate-critical-pulse { 
    animation: none !important; 
  }
  .message-enter { opacity: 1; transform: none; }
}

@media (max-width: 980px) {
  .side-panel { display: none; }
}

@media (max-width: 1024px) {
  .leaf { width: 22px; height: 22px; }
  .fog { filter: blur(20px); }
}